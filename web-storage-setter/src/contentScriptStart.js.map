{"version":3,"file":"contentScriptStart.js","sources":["../../src/components/LocalStorageSetter/contentScriptStart.ts"],"sourcesContent":["import { WssConfig } from \"@/constants\";\r\n\r\n(() => {\r\n  const WSS_CONFIG = \"WSS_CONFIG\";\r\n  const startInit = () => {\r\n    const wssConfigObj = window.localStorage.getItem(WSS_CONFIG) || \"{}\";\r\n\r\n    // 用来获取 user.type 绕过环境变化的提示 不然在项目级每次切换都会触发弹窗\r\n    const currentUser = window.localStorage.getItem(\"currentUser\") || \"{}\";\r\n    const currentUserObj = JSON.parse(currentUser);\r\n    const { skipPmsLogin } = JSON.parse(wssConfigObj) as WssConfig;\r\n    if (!skipPmsLogin) return;\r\n    let __PMS_CONSOLE__TEMP__: any;\r\n\r\n    Object.defineProperty(window, \"__PMS_CONSOLE__\", {\r\n      get: function () {\r\n        return __PMS_CONSOLE__TEMP__;\r\n      },\r\n      set: function (newVal) {\r\n        if (newVal?.user?.login) {\r\n          newVal.user.login = () => {};\r\n          newVal.user.type = currentUserObj.type;\r\n          // console.log(\"跳过登录设置成功-----------\");\r\n        }\r\n        __PMS_CONSOLE__TEMP__ = newVal;\r\n      },\r\n    });\r\n  };\r\n  startInit();\r\n})();\r\n"],"names":["WSS_CONFIG","wssConfigObj","currentUser","currentUserObj","skipPmsLogin","__PMS_CONSOLE__TEMP__","newVal","_a"],"mappings":"CAEC,IAAM,CACL,MAAMA,EAAa,cACD,IAAM,CACtB,MAAMC,EAAe,OAAO,aAAa,QAAQD,CAAU,GAAK,KAG1DE,EAAc,OAAO,aAAa,QAAQ,aAAa,GAAK,KAC5DC,EAAiB,KAAK,MAAMD,CAAW,EACvC,CAAE,aAAAE,CAAiB,EAAA,KAAK,MAAMH,CAAY,EAChD,GAAI,CAACG,EAAc,OACf,IAAAC,EAEG,OAAA,eAAe,OAAQ,kBAAmB,CAC/C,IAAK,UAAY,CACR,OAAAA,CACT,EACA,IAAK,SAAUC,EAAQ,QACjBC,EAAAD,GAAA,YAAAA,EAAQ,OAAR,MAAAC,EAAc,QACTD,EAAA,KAAK,MAAQ,IAAM,CAAA,EACnBA,EAAA,KAAK,KAAOH,EAAe,MAGZE,EAAAC,CAC1B,CAAA,CACD,CAAA,IAGL,GAAG"}