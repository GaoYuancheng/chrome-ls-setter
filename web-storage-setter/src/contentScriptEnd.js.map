{"version":3,"file":"contentScriptEnd.js","sources":["../../src/pages/DefaultPopup/components/LocalStorageSetter/contentScriptEnd.ts"],"sourcesContent":["import { WssConfig } from \"@/constants\";\r\n\r\nconst WSS_CONFIG = \"WSS_CONFIG\";\r\n\r\n/**  修复 rootStyle */\r\nconst fixPmsRootStyleFunc = () => {\r\n  // @ts-ignore\r\n  const targetDom =\r\n    document.getElementById(\"root\") ||\r\n    document.getElementById(\"root-slave\") ||\r\n    \"\";\r\n\r\n  if (!targetDom) return;\r\n  targetDom.style.display = \"block\";\r\n  console.log(\"root-salve样式修复成功！----------\");\r\n};\r\n\r\n/** 隐藏灰度 */\r\nconst hiddenGrayAsideFunc = () => {\r\n  // 初始化时获取不到dom 先暂时写样式\r\n  var style = document.createElement(\"style\");\r\n  style.innerHTML = \".gray-test-aside{ display: none }\";\r\n  document?.getElementsByTagName(\"head\")?.item(0)?.appendChild(style);\r\n  console.log(\"隐藏灰度侧边栏成功！----------\");\r\n};\r\n\r\nconst endInit = () => {\r\n  const wssConfigObj = window.localStorage.getItem(WSS_CONFIG) || \"{}\";\r\n  const { fixPmsRootStyle, hiddenGrayAside } = JSON.parse(\r\n    wssConfigObj\r\n  ) as WssConfig;\r\n  // if (fixPmsRootStyle) {\r\n  //   // 修复 rootStyle\r\n  //   fixPmsRootStyleFunc();\r\n  // }\r\n\r\n  if (hiddenGrayAside) {\r\n    // 隐藏 灰度侧边栏\r\n    hiddenGrayAsideFunc();\r\n  }\r\n};\r\n\r\n(() => {\r\n  // @ts-ignore 没有 __PMS_CONSOLE__ 就直接返回\r\n  if (!window?.__PMS_CONSOLE__) return;\r\n\r\n  endInit();\r\n})();\r\n"],"names":["WSS_CONFIG","hiddenGrayAsideFunc","_a","_b","style","endInit","wssConfigObj","fixPmsRootStyle","hiddenGrayAside"],"mappings":"AAEA,MAAMA,EAAa,aAgBbC,EAAsB,IAAM,CAhBlC,IAAAC,EAAAC,EAkBM,IAAAC,EAAQ,SAAS,cAAc,OAAO,EAC1CA,EAAM,UAAY,qCAClBD,GAAAD,EAAA,+BAAU,qBAAqB,UAA/B,YAAAA,EAAwC,KAAK,KAA7C,MAAAC,EAAiD,YAAYC,GAC7D,QAAQ,IAAI,sBAAsB,CACpC,EAEMC,EAAU,IAAM,CACpB,MAAMC,EAAe,OAAO,aAAa,QAAQN,CAAU,GAAK,KAC1D,CAAE,gBAAAO,EAAiB,gBAAAC,CAAgB,EAAI,KAAK,MAChDF,CAAA,EAOEE,GAEkBP,GAExB,EAIO,qBAAQ,iBAELI"}